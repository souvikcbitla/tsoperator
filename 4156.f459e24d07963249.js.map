{"version":3,"file":"4156.f459e24d07963249.js","mappings":"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","names":["i0","_r3","ctx_r2","sendOTP","ctx_r4","cancel","ctx_r5","timerString","_r8","ctx_r7","resend","$event","_r10","ctx_r9","otpGet","OtpConfirmationPage_div_29_span_9_Template","OtpConfirmationPage_div_29_span_11_Template","ctx_r11","goToSuccessTransfer","ctx_r12","ctx_r1","timerHideShow","userDetails","user","mobileNo","routes","path","component","OtpConfirmationPage","constructor","navCtrl","appData","toastCtrl","apiFactory","this","timerOn","isShown","isShownn","otpsendHide","pointsGet","transferMobNo","baseUrl","BASE_URL","JSON","parse","localStorage","getItem","newIdData","ngOnInit","timer","remaining","m","Math","floor","s","setTimeout","smartMilesSendOTP","submit_data","subscribe","data","dema","code","toast","error","setItem","smartMilesVerifyOtp","secret_key","navigateForward","id","transfer_mobile_number","_this","_asyncToGenerator","create","message","duration","position","present","static","t","i1","i2","i3","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","OtpConfirmationPage_div_27_Template","OtpConfirmationPage_div_29_Template","OtpConfirmationPageRoutingModule","oAB","cJS","RouterModule","forChild","OtpConfirmationPageModule","CommonModule","FormsModule","IonicModule"],"sourceRoot":"webpack:///","sources":["./src/app/otp-confirmation/otp-confirmation.page.html","./src/app/otp-confirmation/otp-confirmation-routing.module.ts","./src/app/otp-confirmation/otp-confirmation.page.ts","./src/app/otp-confirmation/otp-confirmation.module.ts"],"sourcesContent":["<ion-header>\n  <ion-toolbar mode=\"md\" class=\"h50 bg-cl\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button>\n      </ion-back-button>\n    </ion-buttons>\n    <div class=\"head\">OTP Confirmation</div>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div class=\"firDiv ion-margin-bottom ion-text-center\">\n    <p class=\"firPara\">Enter OTP to Confirm <br>  <span class=\"firSpan\">Points you are Transfering</span> <br> <span  class=\"firSpan\">{{pointsGet}} Points</span></p>\n    <div>\n      <ion-img class=\"image-set\" src=\"../../assets/otp-confirmation.png\"></ion-img>\n    </div>\n  </div>\n\n\n  <div class=\"secDiv ion-margin-bottom\">\n    <p class=\"ion-text-center\">Please enter other customer registered no. <br> to whom you wants transfer</p>\n    <div class=\"listDiv\">\n      <div >\n        <ion-item  style=\"--background:#f1f5f8\">\n          <ion-input [(ngModel)]=\"transferMobNo\" placeholder=\"Enter phone number\" type=\"number\" maxlength='10'></ion-input> \n        </ion-item>\n      </div>\n      <div class=\"btn-style\" *ngIf=\"otpsendHide\">\n        <span (click)=\"sendOTP()\" class=\"first-btn\"  >Send OTP</span>\n        <span class=\"sec-btn\" (click)=\"cancel()\">Cancel</span>\n        \n      </div>\n    </div>\n       <div>\n      <!-- <p class=\"ion-text-center\" style=\"margin-top: 2px;\">Sorry this number is not registered with us.</p> -->\n      <!-- <p class=\"ion-text-center\" style=\"color: rgb(93, 194, 228);margin-top: 2px;\">This number is Registered with us as Mr. Reddy</p> -->\n    </div>\n    \n    <div *ngIf=\"isShown\">\n      <h5 class=\"ion-text-center\">OTP</h5>\n       <div >\n         <ion-row>\n           <ion-col size=\"9\"  >\n            <ion-item style=\"--background:#f1f5f8\">\n              <ion-input    type=\"tel\" [(ngModel)]=\"otpGet\" ></ion-input> \n            </ion-item>  \n           </ion-col>\n           <ion-col size=\"3\" style=\"padding: 10px;\">\n            <!-- <div>Time left = <span id=\"timer\"></span></div> -->\n            <span  id=\"timer\" *ngIf=\"timerHideShow\"> {{timerString}} </span> <br> <span *ngIf=\"!timerHideShow\" class=\"ion-text-center\" (click)=\"resend()\"   >Resend</span>\n           </ion-col>\n         </ion-row>\n        <!-- <div class=\"thirdDiv\">\n          <ion-item>\n            <ion-input  type=\"tel\" maxlength='10'></ion-input> \n          </ion-item>        \n        </div> -->\n        <!-- <div class=\"thirdDiv\">\n          <ion-input type=\"tel\" maxlength='1'></ion-input>\n        </div>\n        <div class=\"thirdDiv\">\n          <ion-input type=\"tel\" maxlength='1'></ion-input>\n        </div>\n        <div class=\"thirdDiv\">\n          <ion-input type=\"tel\" maxlength='1'></ion-input>\n        </div> -->\n        <!-- <div>\n          <p>00:59 <br> <span class=\"ion-text-center\" >Resend</span></p>\n        </div> -->\n      </div>\n      <p class=\"ion-text-center\"  >OTP is shared on below Registered contact details <br> <span>{{userDetails.user.mobileNo}}</span> </p>\n      \n    <div class=\"btn-style\" >\n      <span (click)=\"goToSuccessTransfer()\" class=\"first-btn\">Approve</span>\n      <span class=\"sec-btn\" (click)=\"cancel()\">Cancel</span>\n    </div>\n    </div>\n   \n    <!-- <br> <br> -->\n    <!-- <p style=\"color: red; float: right; font-size: smaller;\">Note:Please Read the Transfer Related T&C Carefully</p> -->\n  </div>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OtpConfirmationPage } from './otp-confirmation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OtpConfirmationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OtpConfirmationPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController } from '@ionic/angular';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\nimport { AppData } from '../services/appdata';\nimport { PointTransferPage } from '../point-transfer/point-transfer.page';\nimport { ApiFactory } from '../services';\n\n@Component({\n  selector: 'app-otp-confirmation',\n  templateUrl: './otp-confirmation.page.html',\n  styleUrls: ['./otp-confirmation.page.scss'],\n})\nexport class OtpConfirmationPage implements OnInit {\n  dema: any;\n  baseUrl:any;\n  newIdData: string;\n  pointsGet:any;\n  demo: any;\n  userDetails: any;\n  userrDetails: any;\n  transferMobNo:any;\n  otpGet:any;\n   timerOn = true;\n  m: string | number;\n  s: string | number;\n  isShown: boolean = false ;\n  isShownn: boolean = false ;\n  otpsendHide : boolean = true;\n  timerHideShow : boolean = false;\n  timerStart: any;\n  tokenGet: string;\n  dynamicColor: any;\n  textColor: any;\n  timerString:string = \"\";\n  backgroundColor: any;\n  submit_data: { id: string; transfer_mobile_number: any; };\n\n  constructor(private navCtrl:NavController,\n   \n    private appData: AppData,\n    private toastCtrl:ToastController,\n    private apiFactory:ApiFactory\n    ) {\n    this.pointsGet = '';\n    this.otpGet = '' ;\n    this.transferMobNo = '';\n    this.baseUrl = appData.BASE_URL;\n    \n    // console.log(JSON.parse( localStorage.getItem('currentUser')));\n    this.userDetails = JSON.parse( localStorage.getItem('currentUser'));\n    // console.log('grrgr' ,this.userrDetails)\n    this.newIdData = localStorage.getItem('dataGet');\n    this.pointsGet = localStorage.getItem('totalPoints')\n    // this.tokenGet  =localStorage.getItem('tokenNum');\n    // this.dynamicColor = JSON.parse (localStorage.getItem('metaData'))\n    // this.backgroundColor= this.dynamicColor.appColors.iconsAndButtonsColor;\n    // this.textColor = this.dynamicColor.appColors.primaryText;\n    //   console.log(this.dynamicColor)       \n   }\n\n  ngOnInit() {\n  }\n\n\n    timer(remaining:number) {\n      let m = Math.floor(remaining / 60);\n      let s = remaining % 60;\n      \n      this.m = m < 10 ? '0' + m : m;\n      this.s = s < 10 ? '0' + s : s;\n      // document.getElementById('timer').innerHTML = m + ':' + s;\n      this.timerString = m + ':' + s;\n      remaining -= 1;\n      \n      if(remaining >= 0) {\n        setTimeout(() => {\n            this.timer(remaining);\n        }, 1000);\n        return;\n      }else{\n        this.timerHideShow = false;\n      }\n    \n      // if(!this.timerOn) {\n      //   // Do validate stuff here\n      //   return;\n      // }\n      \n      // Do timeout stuff here\n     \n      // this.timerHideShow = false;\n      // alert('Timeout for otp');\n    }\n\n    resend(){\n      //  this.timer(60);\n    \n      //  this.isShownn = false;\n       \n       this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(data =>{\n        this.dema = data;\n        //  console.log('myData',this.dema)\n      if(this.dema.code == 500 ){\n         this.toast();\n        // console.log('ErrorMessage' , this.dema.message)\n      }\n      //  else if(this.transferMobNo.length !== 0){\n      //   this.isShown = ! this.isShown;\n      //   this.timerHideShow = true;\n      //   this.timer(59);\n         \n      // }\n      else{\n        // this.isShown = ! this.isShown;\n        this.timerHideShow = true;\n        this.timer(59);\n      }\n      // this.timer(60);\n      },error =>{});\n       \n    }\n    \n    \n    \n\n  // testPost(url): Observable<any>{\n  //   const idBody =\n  //     {\n  //       \"id\":this.newIdData, \n  //       \"transfer_mobile_number\":this.transferMobNo\n  //       }\n\n  //   ;\n  //   console.log(\"loguu\",idBody);\n  //   return this.http.post(url,idBody);\n  //  }\n\n  //  testGet(url): Observable<any>{\n  //   const idBody =\n  //     {  \n  //       \"auth_token\": this.userDetails.token,\n  //     \"id\": this.newIdData,\n  //     \"transfer_mobile_number\": this.transferMobNo,\n  //     \"secret_key\": this.dema.secret_key,\n  //     \"otp\": this.otpGet\n  //       }\n\n  //   ;\n  //   console.log(\"loguu\",idBody);\n  //   return this.http.post(url,idBody);\n  //  }\n\n  goToSuccessTransfer(){\n    this.timer(0);\n    // console.log(this.transferMobNo);\n    localStorage.setItem('transferMobNo' ,this.transferMobNo);\n    // this.testGet(`${this.baseUrl}api2/verify_otp_and_transfer_points.json?`).map(res =>res.json()).subscribe(data =>{\n    //   this.demo = data;\n    //   console.log('demooodata' ,this.demo);\n    // },error =>{});\n\n    this.apiFactory.smartMilesVerifyOtp(\n      \"&id=\"+this.newIdData+\n      \"&transfer_mobile_number=\"+this.transferMobNo+\n      \"&secret_key=\"+ this.dema.secret_key+\n      \"&otp=\"+this.otpGet\n      ).subscribe(data =>{\n\n    },error =>{\n      // console.log(error);\n   });;\n    this.navCtrl.navigateForward('points-success-msg')\n  }\n  sendOTP(){\n    // this.testPost(`${this.baseUrl}api2/send_otp_to_transfer_smart_mile.json?auth_token=${ this.userDetails.token}`).map(res => res.json()).subscribe(data => {\n    //   this.dema = data;\n    // console.log('myData',this.dema)\n    // if(this.dema.code == 500 ){\n    //    this.toast();\n    //   console.log('ErrorMessage' , this.dema.message)\n    // }\n    //  else if(this.transferMobNo.length !== 0){\n    //   this.isShown = ! this.isShown;\n    //   this.timer(60);\n       \n    // }\n    // // this.timer(60);\n    \n\n    // }, error => { \n    // });  \n\n   \n\n    this.submit_data =  {\n      \"id\":this.newIdData, \n      \"transfer_mobile_number\":this.transferMobNo\n    }\n\n    this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(data =>{\n      this.dema = data;\n      //  console.log('myData',this.dema)\n    if(this.dema.code == 500 ){\n       this.toast();\n      // console.log('ErrorMessage' , this.dema.message)\n    }\n    //  else if(this.transferMobNo.length !== 0){\n    //   this.otpsendHide = false;\n    //   this.timerHideShow = true;\n    //   this.isShown = ! this.isShown;\n    //   this.timer(59);\n    // }\n    else{\n      this.otpsendHide = false;\n      this.timerHideShow = true;\n      this.isShown = true;\n      this.timer(59);\n    }\n    // this.timer(60);\n    },error =>{});\n\n  }\n  async toast(){\n    let toast =await this.toastCtrl.create({\n      message: this.dema.message,\n      duration: 4000,\n      position: 'bottom'\n    })\n    await toast.present();\n  }\n  cancel(){\n    // this.postApi()\n    // this.modalCtrl.dismiss()\n    this.navCtrl.navigateForward('point-transfer')\n  } \n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OtpConfirmationPageRoutingModule } from './otp-confirmation-routing.module';\n\nimport { OtpConfirmationPage } from './otp-confirmation.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OtpConfirmationPageRoutingModule\n  ],\n  declarations: [OtpConfirmationPage]\n})\nexport class OtpConfirmationPageModule {}\n"],"x_google_ignoreList":[]}