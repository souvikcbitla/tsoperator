{"version":3,"file":"9534.d1b2e41e8b341711.js","mappings":"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","names":["i0","_r2","ctx_r1","goToHome","routes","path","component","TicketConfirmPage","constructor","apiFactory","navCtrl","globalData","commonStorage","this","viewTicket","failurePopop","is_round_trip","roundTrip","urlGet","window","location","href","pnrNum","split","getData","obj","i","length","firname","secname","pnrNumber","pnr_number","splitPnr","getTicketDetails","subscribe","result","ticketstatus","ticket_status","ticketDetailsnew","viewTicketPage","ngOnInit","localSet","JSON","stringify","round_trip_number","localStorage","setItem","localGet","navigateRoot","queryParams","new_booking","is_roundTrip","hideLocateTrackBus","clearReturnJourney","DEPARTURE_DATE_RETURN","static","t","i1","i2","i3","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","TicketConfirmPage_div_1_Template","TicketConfirmPageRoutingModule","oAB","cJS","RouterModule","forChild","TicketConfirmPageModule","CommonModule","FormsModule","IonicModule"],"sourceRoot":"webpack:///","sources":["./src/app/ticket-confirm/ticket-confirm.page.html","./src/app/ticket-confirm/ticket-confirm-routing.module.ts","./src/app/ticket-confirm/ticket-confirm.page.ts","./src/app/ticket-confirm/ticket-confirm.module.ts"],"sourcesContent":["\n<ion-content>\n  <div style=\"margin-top: 50%;\" *ngIf=\"this.ticketstatus == 'Pending'\">\n    <div style=\"\n    font-size: 35px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\">\n      <ion-icon src=\"././assets/icon/UnconfirmedEmoji.svg\"></ion-icon>\n    </div>\n    <p style=\"text-align: center; font-size: 16px;\">Note: Your ticket is in Pending.Please check after sometime.</p>\n    <div style=\"display: flex;\n    align-items: center;\n    justify-content: center;\">\n      <ion-button mode=\"md\" (click)=\"goToHome()\" class=\"search-btn\" style='--background:var(--iconsAndButtonsColor);--color:var(--primaryText)' >\n        <p class=\"search-txt\">Okay\n        <p>\n  </ion-button>\n</div>\n</div>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TicketConfirmPage } from './ticket-confirm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TicketConfirmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TicketConfirmPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiFactory, CommonStorage } from '../services';\nimport { GlobalDataService } from '../services/global-data.service';\n\n@Component({\n  selector: 'app-ticket-confirm',\n  templateUrl: './ticket-confirm.page.html',\n  styleUrls: ['./ticket-confirm.page.scss'],\n})\nexport class TicketConfirmPage implements OnInit {\n  urlGet: any;\n  pnrNum: any;\n  getData: any;\n  pnrNumber: any;\n  splitPnr: any;\n  ticketDetailsnew: any;\n  viewTicket:boolean = false;\n  failurePopop:boolean = false;\n  ticketstatus: any;\n  is_round_trip = false;\n  roundTrip = false;\n  constructor(private apiFactory: ApiFactory,private navCtrl:NavController,public globalData: GlobalDataService,public commonStorage: CommonStorage,) { \n    this.urlGet = window.location.href;   \n    //  console.log('urlHere',this.urlGet) ;\n   // this.urlGet = \"https://www.btb-qa2.ticketsimply.co.in/m/#/ticket-confirm?pnr_number=471668&is_native_app=true&status=0&is_round_trip=false\";\n\n    this.pnrNum = this.urlGet.split('?')[1];\n    this.getData = this.pnrNum.split('&');\n    let obj:any = [];\n    for(let i=0;i<this.getData.length;i++){\n      let[firname,secname] = this.getData[i].split('=');\n      obj[firname]=secname;\n    }\n    this.pnrNumber = obj.pnr_number.split('_');\n    this.is_round_trip = obj.is_round_trip.split('_');\n    // console.log('splitingRoundTrip',this.is_round_trip)\n    if(!this.pnrNumber[1]){\n      this.splitPnr = this.pnrNumber[0]\n    }else{\n      this.splitPnr = this.pnrNumber[1]\n    }\n    if(!this.is_round_trip[1]){\n      this.roundTrip = this.is_round_trip[0]\n    }else{\n      this.roundTrip = this.is_round_trip[1]\n    }\n\n    // console.log(\"splitPnr\",this.splitPnr, this.roundTrip);\n\n    this.apiFactory.getTicketDetails(this.splitPnr)\n    .subscribe(\n  result => {\n    this.ticketstatus = result.ticket_status;\n    if(this.ticketstatus != 'Pending'){\n      this.viewTicket = true;\n      this.failurePopop = false;\n      this.ticketDetailsnew = result;\n        this.viewTicketPage();\n    }\n\n  },\n)\n  err => {\n  }\n  }\n\n  ngOnInit() {\n  }\n\n  viewTicketPage(){\n    if(this.roundTrip === true){\n      // console.log('roundTrip')\n\n      // this.clearReturnJourney();\n      let bookingDetails : any = {\"round_trip_number\":this.splitPnr};\n      this.commonStorage.localSet('bookedTicketDetails', JSON.stringify(bookingDetails));\n      localStorage.setItem('bookingDetails', this.commonStorage.localGet('bookedTicketDetails'));\n      // console.log(bookingDetails,\"bookingDetailsGoToTicketDetailsPage---------\")\n      let navigationExtras: NavigationExtras = {\n          queryParams: {\n              new_booking: true,\n              is_roundTrip: true,\n              hideLocateTrackBus: true\n          }\n      };\n      this.navCtrl.navigateRoot('booking-details', navigationExtras)\n    }else{\n      // console.log('singleTrip')\n      localStorage.setItem('bookingDetails', JSON.stringify( this.ticketDetailsnew));\n      let navigationExtras: NavigationExtras = {\n          queryParams: {\n              new_booking: true,\n              is_roundTrip: false,\n              hideLocateTrackBus: true\n          }\n      };\n      \n      this.navCtrl.navigateRoot('booking-details', navigationExtras);\n\n    }\n    \n\n  }\n\n  clearReturnJourney() {\n    this.globalData.DEPARTURE_DATE_RETURN = {};\n    this.commonStorage.setItem('travelDateReturn', {});\n    // this.modalController.dismiss({});\n}\n\n  goToHome(){\n    this.navCtrl.navigateRoot('tabs/home')\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TicketConfirmPageRoutingModule } from './ticket-confirm-routing.module';\n\nimport { TicketConfirmPage } from './ticket-confirm.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TicketConfirmPageRoutingModule\n  ],\n  declarations: [TicketConfirmPage]\n})\nexport class TicketConfirmPageModule {}\n"],"x_google_ignoreList":[]}